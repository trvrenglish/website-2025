<script>
	import { navItems } from '$lib/data/nav';
	import NavItem from '$lib/components/layout/nav/NavItem.svelte';
	import NewsItem from '$lib/components/layout/news/NewsItem.svelte';
	import { newsItems } from '$lib/data/main.svelte';
	import { getCurrentPage } from '$lib/utils/page.svelte';
	import Contact from '../lib/components/Contact.svelte';
	import Friends from '../lib/components/Friends.svelte';
	import Photography from '../lib/components/Photography.svelte';
	import Recipes from '../lib/components/Recipes.svelte';
	import Skills from '../lib/components/Skills.svelte';
	import { onMount } from 'svelte';

	let currentPage = $derived(getCurrentPage());
	let scrollOffset = $derived(0);

	let scrollingTitle = $derived.by(() => {
		if (!currentPage) return '';
		return currentPage.substring(scrollOffset) + ' ⚔︎ ' + currentPage.substring(0, scrollOffset);
	});

	onMount(() => {
		let interval = setInterval(() => {
			scrollOffset = (scrollOffset + 1) % currentPage.length;
		}, 300);
		return () => clearInterval(interval);
	});
</script>

<svelte:head>
	<title>{scrollingTitle} ⁞ 𝔗𝔯𝔳𝔯𝔢𝔫𝔤𝔩𝔦𝔰𝔥.𝔠𝔬𝔪</title>
</svelte:head>

<div class="left">
	{#each navItems as navItem (navItem.id)}
		<NavItem {navItem}></NavItem>
	{/each}
	<a href="https://www.youtube.com/watch?v=ZOtxTyJmxVI" target="_top"
		><img
			src="https://web.archive.org/web/20070205110736im_/http://www.runescape.com/lang/en/aff/runescape/img/gamewin/navbar_jagex.gif"
			alt="Jagex Software"
		/></a
	>
</div>

<div class="main" id="main">
	<!-- <div class="buttons"> -->
	<!-- 	<a -->
	<!-- 		href="https://web.archive.org/web/20070205110736/https://create.runescape.com/lang/en/aff/runescape/index.html" -->
	<!-- 		class="button" -->
	<!-- 		id="button-left" -->
	<!-- 		><span class="lev1"></span><br style="line-height: 200%" />Create a free account<br />(New -->
	<!-- 		user)</a -->
	<!-- 	> -->
	<!-- 	<a href="detail.ws" class="button" id="button-right" -->
	<!-- 		><span class="lev1"></span><br style="line-height: 200%" />Play RuneScape<br />(Existing user)</a -->
	<!-- 	> -->
	<!-- </div> -->
	<img class="narrowscroll-top" src="/layout/scroll-top.gif" alt="" width="466" height="50" />
	<div class="narrowscroll-bg">
		<div class="narrowscroll-bgimg">
			<div class="narrowscroll-content">
				<dl class="news scroll">
					{#if currentPage === 'home'}
						<dt style="text-align: center;">
							<img src="layout/recent-news.gif" alt="Recent News" />
						</dt>
						<dt>&nbsp;</dt>
						{#each newsItems as newsItem (newsItem.id)}
							<NewsItem {newsItem} />
						{/each}
						<!-- <div class="right" style="margin-bottom: 0.5em"> -->
						<!-- 	<a -->
						<!-- 		href="https://web.archive.org/web/20070205110736/http://news.runescape.com/lang/en/aff/runescape/list.ws" -->
						<!-- 		>Browse the news archives</a -->
						<!-- 	> -->
						<!-- </div> -->
					{:else if currentPage === 'skills'}
						<Skills />
					{:else if currentPage === 'contact'}
						<Contact />
					{:else if currentPage === 'friends'}
						<Friends />
					{:else if currentPage === 'photography'}
						<Photography />
					{:else if currentPage === 'recipes'}
						<Recipes />
					{/if}
					<!-- <dt><span class="newsdate">23-May-2025</span>I made a website. Yipee!</dt> -->
					<!-- <dd> -->
					<!-- 	<table width="100%"> -->
					<!-- 		<tbody -->
					<!-- 			><tr> -->
					<!-- 				<td style="text-align: justify; vertical-align: top;" -->
					<!-- 					>It’s the February behind the scenes document! OH NO IT ISN'T... Oh yes it is! -->
					<!-- 					This month all our updates involve disputes, arguments and different methods of -->
					<!-- 					settling them, be it physical or mental. Will you step in and settle age old -->
					<!-- 					family feuds, bring peace to squabbling dignitaries and help magical creatures -->
					<!-- 					bring an end to their own spiritual demons? Read on...</td -->
					<!-- 				> -->
					<!-- 				<td style="padding-left: 1em; text-align: right; vertical-align: top;"> -->
					<!-- 					<img -->
					<!-- 						width="50" -->
					<!-- 						height="50" -->
					<!-- 						src="https://web.archive.org/web/20070205110736im_/http://www.runescape.com/lang/en/aff/runescape/img/news/battle_tortoise.gif" -->
					<!-- 					/> -->
					<!-- 				</td></tr -->
					<!-- 			></tbody -->
					<!-- 		> -->
					<!-- 	</table> -->
					<!-- 	<div style="margin-top: 0.5em;"> -->
					<!-- 		<a -->
					<!-- 			href="https://web.archive.org/web/20070205110736/http://news.runescape.com/lang/en/aff/runescape/newsitem.ws?id=705" -->
					<!-- 			>Read more...</a -->
					<!-- 		> -->
					<!-- 	</div> -->
					<!-- </dd> -->
					<!---->
					<!-- <dt><span class="newsdate">29-Jan-2007</span>Postbag from the Hedge</dt> -->
					<!-- <dd> -->
					<!-- 	<table width="100%"> -->
					<!-- 		<tbody -->
					<!-- 			><tr> -->
					<!-- 				<td style="text-align: justify; vertical-align: top;" -->
					<!-- 					>Postie Pete has been on his rounds once again, bringing you letters from Count -->
					<!-- 					Draynor and General Khazard, jokes from the Wise Old Man and some very strange -->
					<!-- 					ramblings from everyone's favourite Chaos Elemental!</td -->
					<!-- 				> -->
					<!-- 				<td style="padding-left: 1em; text-align: right; vertical-align: top;"> -->
					<!-- 					<img -->
					<!-- 						width="50" -->
					<!-- 						height="50" -->
					<!-- 						src="https://web.archive.org/web/20070205110736im_/http://www.runescape.com/lang/en/aff/runescape/img/news/ticketing_system.gif" -->
					<!-- 					/> -->
					<!-- 				</td></tr -->
					<!-- 			></tbody -->
					<!-- 		> -->
					<!-- 	</table> -->
					<!-- 	<div style="margin-top: 0.5em;"> -->
					<!-- 		<a -->
					<!-- 			href="https://web.archive.org/web/20070205110736/http://news.runescape.com/lang/en/aff/runescape/newsitem.ws?id=703" -->
					<!-- 			>Read more...</a -->
					<!-- 		> -->
					<!-- 	</div> -->
					<!-- </dd> -->
					<!-- <dt> -->
					<!-- 	<span class="newsdate">29-Jan-2007</span>What's black and white and goes green when it's -->
					<!-- 	finished? -->
					<!-- </dt> -->
					<!-- <dd> -->
					<!-- 	<table width="100%"> -->
					<!-- 		<tbody -->
					<!-- 			><tr> -->
					<!-- 				<td style="text-align: justify; vertical-align: top;" -->
					<!-- 					>It's a penguin quest! Many have pondered the big questions in life: Who am I? -->
					<!-- 					Why am I here? What are those shifty penguins really up to? That’s right; the -->
					<!-- 					long awaited penguin quest is finally here...</td -->
					<!-- 				> -->
					<!-- 				<td style="padding-left: 1em; text-align: right; vertical-align: top;"> -->
					<!-- 					<img -->
					<!-- 						width="50" -->
					<!-- 						height="50" -->
					<!-- 						src="https://web.archive.org/web/20070205110736im_/http://www.runescape.com/lang/en/aff/runescape/img/news/macaroni_penguin.gif" -->
					<!-- 					/> -->
					<!-- 				</td></tr -->
					<!-- 			></tbody -->
					<!-- 		> -->
					<!-- 	</table> -->
					<!-- 	<div style="margin-top: 0.5em;"> -->
					<!-- 		<a -->
					<!-- 			href="https://web.archive.org/web/20070205110736/http://news.runescape.com/lang/en/aff/runescape/newsitem.ws?id=701" -->
					<!-- 			>Read more...</a -->
					<!-- 		> -->
					<!-- 	</div> -->
					<!-- </dd> -->
					<!-- <dt><span class="newsdate">22-Jan-2007</span>The Lair of Tarn Razorlor</dt> -->
					<!-- <dd> -->
					<!-- 	<table width="100%"> -->
					<!-- 		<tbody -->
					<!-- 			><tr> -->
					<!-- 				<td style="text-align: justify; vertical-align: top;" -->
					<!-- 					>It's time to dust off your undead combat kit! This week's update brings you the -->
					<!-- 					doom-laden lair of Tarn Razorlor, plus graphical improvements to zombies, -->
					<!-- 					skeletons, mummies and ghosts throughout the world...</td -->
					<!-- 				> -->
					<!-- 				<td style="padding-left: 1em; text-align: right; vertical-align: top;"> -->
					<!-- 					<img -->
					<!-- 						width="50" -->
					<!-- 						height="50" -->
					<!-- 						src="https://web.archive.org/web/20070205110736im_/http://www.runescape.com/lang/en/aff/runescape/img/news/demon_head.gif" -->
					<!-- 					/> -->
					<!-- 				</td></tr -->
					<!-- 			></tbody -->
					<!-- 		> -->
					<!-- 	</table> -->
					<!-- 	<div style="margin-top: 0.5em;"> -->
					<!-- 		<a -->
					<!-- 			href="https://web.archive.org/web/20070205110736/http://news.runescape.com/lang/en/aff/runescape/newsitem.ws?id=699" -->
					<!-- 			>Read more...</a -->
					<!-- 		> -->
					<!-- 	</div> -->
					<!-- </dd> -->
					<!-- <dt><span class="newsdate">16-Jan-2007</span>Interfaces and spooky wallpapers</dt> -->
					<!-- <dd> -->
					<!-- 	<table width="100%"> -->
					<!-- 		<tbody -->
					<!-- 			><tr> -->
					<!-- 				<td style="text-align: justify; vertical-align: top;" -->
					<!-- 					>As promised in this month's Behind the Scenes announcement, we've taken a good -->
					<!-- 					look at some of the most commonly used interfaces and menus in the game and -->
					<!-- 					given them a makeover. We've also got a new set of images for your computer's -->
					<!-- 					background, featuring the creepy undead monsters that are due for a graphical -->
					<!-- 					improvement later this month, plus a stunning picture of everyone's favourite -->
					<!-- 					Wise Old Man in a pensive mood...</td -->
					<!-- 				> -->
					<!-- 				<td style="padding-left: 1em; text-align: right; vertical-align: top;"> -->
					<!-- 					<img -->
					<!-- 						width="50" -->
					<!-- 						height="50" -->
					<!-- 						src="https://web.archive.org/web/20070205110736im_/http://www.runescape.com/lang/en/aff/runescape/img/news/Game_updates_1.gif" -->
					<!-- 					/> -->
					<!-- 				</td></tr -->
					<!-- 			></tbody -->
					<!-- 		> -->
					<!-- 	</table> -->
					<!-- 	<div style="margin-top: 0.5em;"> -->
					<!-- 		<a -->
					<!-- 			href="https://web.archive.org/web/20070205110736/http://news.runescape.com/lang/en/aff/runescape/newsitem.ws?id=697" -->
					<!-- 			>Read more...</a -->
					<!-- 		> -->
					<!-- 	</div> -->
					<!-- </dd> -->
				</dl>
			</div>
		</div>
	</div>
	<img
		class="narrowscroll-bottom"
		src="https://web.archive.org/web/20070205110736im_/http://www.runescape.com/lang/en/aff/runescape/img/scroll/scroll457_bottom.gif"
		alt=""
		width="466"
		height="50"
	/>
</div>

<p>
	Assets from <a href="https://oldschool.runescape.com/">Old School Runescape by Jagex</a>
</p>
